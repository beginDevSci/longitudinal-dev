{
  "title": "GLMM: Interaction",
  "metadata": {
    "method_family": "GLMM",
    "method_family_label": "Generalized Linear Mixed Models (GLMM)",
    "statistical_engine": "glmmTMB",
    "engines": [
      "glmmTMB"
    ],
    "covariates": "TIC",
    "outcome_type": "Count",
    "updated_at": "2025-11-05",
    "tags": [
      "abcd-study",
      "glmm",
      "interaction"
    ],
    "author": "Biostatistics Working Group",
    "description": "Model count outcomes with generalized linear mixed models that include interaction terms, revealing whether predictor effects differ across moderators in ABCD repeated measures.",
    "summary": "Model count outcomes with generalized linear mixed models that include interaction terms, revealing whether predictor effects differ across moderators in ABCD repeated measures.",
    "difficulty": "intermediate",
    "timepoints": "3_5"
  },
  "overview": {
    "summary": "Generalized Linear Mixed Models with interaction terms test whether predictor effects on non-normal outcomes vary across levels of other variables, combining fixed and random effects to model moderation while accounting for individual differences. Interaction terms reveal whether relationships between covariates and outcomes change over time or differ by group membership. This tutorial examines alcohol use in ABCD youth across four annual assessments using a Negative Binomial GLMM with a family conflict × time interaction to test whether adolescents from high-conflict families show different drinking trajectories compared to those from low-conflict families.",
    "features_panel": {
      "title": "Features",
      "items": [
        {
          "heading": "When to Use:",
          "text": "Use when you want to test moderator effects (e.g., family conflict × time) inside a GLMM framework."
        },
        {
          "heading": "Key Advantage:",
          "text": "Captures how predictor effects differ across levels of another variable while still honoring within-subject correlation via random effects."
        },
        {
          "heading": "What You'll Learn:",
          "text": "How to include and interpret interaction terms in GLMMs, evaluate predicted probabilities, and visualize moderation effects."
        }
      ]
    }
  },
  "data_access": {
    "items": [
      {
        "type": "collapsible",
        "title": "Data Download",
        "content": "<p>ABCD data can be accessed through the <a href=\"https://nbdc.deapscience.com\">DEAP platform</a> or the <a href=\"https://nbdc-datashare.lassoinformatics.com\">NBDC Data Access Platform (LASSO)</a>, which provide user-friendly interfaces for creating custom datasets with point-and-click variable selection. For detailed instructions on accessing and downloading ABCD data, see the <a href=\"https://docs.deapscience.com\">DEAP documentation</a>.</p>\n",
        "open": false
      },
      {
        "type": "collapsible",
        "title": "Loading Data with NBDCtools",
        "content": "<p>Once you have downloaded ABCD data files, the <a href=\"https://software.nbdc-datahub.org/NBDCtools/\"><strong>NBDCtools</strong></a> package provides efficient tools for loading and preparing your data for analysis. The package handles common data management tasks including:</p>\n<ul>\n<li><strong>Automatic data joining</strong> - Merges variables from multiple tables automatically</li>\n<li><strong>Built-in transformations</strong> - Converts categorical variables to factors, handles missing data codes, and adds variable labels</li>\n<li><strong>Event filtering</strong> - Easily selects specific assessment waves</li>\n</ul>\n<p>For more information, visit the <a href=\"https://software.nbdc-datahub.org/NBDCtools/\">NBDCtools documentation</a>.</p>\n",
        "open": false
      },
      {
        "type": "collapsible",
        "title": "Basic Usage",
        "content": "<p>The <code>create_dataset()</code> function is the main tool for loading ABCD data:</p>\n<pre><code class=\"language-r\"><span class=\"syn-string\">library</span><span class=\"syn-function\">(</span><span class=\"syn-function\">NBDCtools</span><span class=\"syn-function\">)</span><span class=\"syn-function\">\n</span><span class=\"syn-function\">\n</span><span class=\"syn-comment\">#</span><span class=\"syn-comment\"> Define variables needed for this analysis\n</span><span class=\"syn-function\">requested_vars </span><span class=\"syn-function\">&lt;-</span><span class=\"syn-function\"> </span><span class=\"syn-string\">c</span><span class=\"syn-function\">(</span><span class=\"syn-function\">\n</span><span class=\"syn-function\">  </span><span class=\"syn-function\">&quot;</span><span class=\"syn-string\">var_1</span><span class=\"syn-function\">&quot;</span><span class=\"syn-function\">,</span><span class=\"syn-function\">   </span><span class=\"syn-comment\">#</span><span class=\"syn-comment\"> Variable 1\n</span><span class=\"syn-function\">  </span><span class=\"syn-function\">&quot;</span><span class=\"syn-string\">var_2</span><span class=\"syn-function\">&quot;</span><span class=\"syn-function\">,</span><span class=\"syn-function\">   </span><span class=\"syn-comment\">#</span><span class=\"syn-comment\"> Variable 2\n</span><span class=\"syn-function\">  </span><span class=\"syn-function\">&quot;</span><span class=\"syn-string\">var_3</span><span class=\"syn-function\">&quot;</span><span class=\"syn-function\">    </span><span class=\"syn-comment\">#</span><span class=\"syn-comment\"> Variable 3\n</span><span class=\"syn-function\">)</span><span class=\"syn-function\">\n</span><span class=\"syn-function\">\n</span><span class=\"syn-comment\">#</span><span class=\"syn-comment\"> Set path to downloaded ABCD data files\n</span><span class=\"syn-function\">data_dir </span><span class=\"syn-function\">&lt;-</span><span class=\"syn-function\"> </span><span class=\"syn-string\">Sys.getenv</span><span class=\"syn-function\">(</span><span class=\"syn-function\">&quot;</span><span class=\"syn-string\">ABCD_DATA_PATH</span><span class=\"syn-function\">&quot;</span><span class=\"syn-function\">,</span><span class=\"syn-function\"> </span><span class=\"syn-function\">&quot;</span><span class=\"syn-string\">/path/to/abcd/6_0/phenotype</span><span class=\"syn-function\">&quot;</span><span class=\"syn-function\">)</span><span class=\"syn-function\">\n</span><span class=\"syn-function\">\n</span><span class=\"syn-comment\">#</span><span class=\"syn-comment\"> Load data with automatic transformations\n</span><span class=\"syn-function\">abcd_data </span><span class=\"syn-function\">&lt;-</span><span class=\"syn-function\"> </span><span class=\"syn-function\">create_dataset</span><span class=\"syn-function\">(</span><span class=\"syn-function\">\n</span><span class=\"syn-function\">  </span><span class=\"syn-number\">dir_data</span><span class=\"syn-function\"> </span><span class=\"syn-function\">=</span><span class=\"syn-function\"> data_dir</span><span class=\"syn-function\">,</span><span class=\"syn-function\">\n</span><span class=\"syn-function\">  </span><span class=\"syn-number\">study</span><span class=\"syn-function\"> </span><span class=\"syn-function\">=</span><span class=\"syn-function\"> </span><span class=\"syn-function\">&quot;</span><span class=\"syn-string\">abcd</span><span class=\"syn-function\">&quot;</span><span class=\"syn-function\">,</span><span class=\"syn-function\">\n</span><span class=\"syn-function\">  </span><span class=\"syn-number\">vars</span><span class=\"syn-function\"> </span><span class=\"syn-function\">=</span><span class=\"syn-function\"> requested_vars</span><span class=\"syn-function\">,</span><span class=\"syn-function\">\n</span><span class=\"syn-function\">  </span><span class=\"syn-number\">release</span><span class=\"syn-function\"> </span><span class=\"syn-function\">=</span><span class=\"syn-function\"> </span><span class=\"syn-function\">&quot;</span><span class=\"syn-string\">6.0</span><span class=\"syn-function\">&quot;</span><span class=\"syn-function\">,</span><span class=\"syn-function\">\n</span><span class=\"syn-function\">  </span><span class=\"syn-number\">format</span><span class=\"syn-function\"> </span><span class=\"syn-function\">=</span><span class=\"syn-function\"> </span><span class=\"syn-function\">&quot;</span><span class=\"syn-string\">parquet</span><span class=\"syn-function\">&quot;</span><span class=\"syn-function\">,</span><span class=\"syn-function\">\n</span><span class=\"syn-function\">  </span><span class=\"syn-number\">categ_to_factor</span><span class=\"syn-function\"> </span><span class=\"syn-function\">=</span><span class=\"syn-function\"> </span><span class=\"syn-number\">TRUE</span><span class=\"syn-function\">,</span><span class=\"syn-function\">   </span><span class=\"syn-comment\">#</span><span class=\"syn-comment\"> Convert categorical variables to factors\n</span><span class=\"syn-function\">  </span><span class=\"syn-number\">value_to_na</span><span class=\"syn-function\"> </span><span class=\"syn-function\">=</span><span class=\"syn-function\"> </span><span class=\"syn-number\">TRUE</span><span class=\"syn-function\">,</span><span class=\"syn-function\">        </span><span class=\"syn-comment\">#</span><span class=\"syn-comment\"> Convert missing codes (222, 333, etc.) to NA\n</span><span class=\"syn-function\">  </span><span class=\"syn-number\">add_labels</span><span class=\"syn-function\"> </span><span class=\"syn-function\">=</span><span class=\"syn-function\"> </span><span class=\"syn-number\">TRUE</span><span class=\"syn-function\">          </span><span class=\"syn-comment\">#</span><span class=\"syn-comment\"> Add variable and value labels\n</span><span class=\"syn-function\">)</span><span class=\"syn-function\">\n</span></code></pre>\n",
        "open": false
      },
      {
        "type": "collapsible",
        "title": "Key Parameters",
        "content": "<ul>\n<li><strong><code>vars</code></strong> - Vector of variable names to load</li>\n<li><strong><code>release</code></strong> - ABCD data release version (e.g., \"6.0\")</li>\n<li><strong><code>format</code></strong> - File format, typically \"parquet\" for efficiency</li>\n<li><strong><code>categ_to_factor</code></strong> - Automatically converts categorical variables to factors</li>\n<li><strong><code>value_to_na</code></strong> - Converts ABCD missing value codes to R's NA</li>\n<li><strong><code>add_labels</code></strong> - Adds descriptive labels to variables and values</li>\n</ul>\n",
        "open": false
      },
      {
        "type": "collapsible",
        "title": "Additional NBDCtools Resources",
        "content": "<p>For more details on using NBDCtools:</p>\n<ul>\n<li><a href=\"https://software.nbdc-datahub.org/NBDCtools/articles/NBDCtools.html\">NBDCtools Getting Started Guide</a> - Complete package overview</li>\n<li><a href=\"https://software.nbdc-datahub.org/NBDCtools/articles/join.html\">Joining Data</a> - Advanced data merging strategies</li>\n<li><a href=\"https://software.nbdc-datahub.org/NBDCtools/articles/filter.html\">Filtering Events</a> - Selecting specific assessment waves</li>\n<li><a href=\"https://software.nbdc-datahub.org/NBDCtools/articles/transformation.html\">Data Transformations</a> - Preprocessing and cleaning</li>\n</ul>\n",
        "open": false
      }
    ]
  },
  "data_preparation": {
    "content_blocks": [
      {
        "type": "code",
        "data": {
          "title": "NBDCtools Setup and Data Loading",
          "content": "### Load necessary libraries\nlibrary(NBDCtools)    # ABCD data access helper\nlibrary(tidyverse)  # Data wrangling & visualization\nlibrary(gtsummary)  # Summary tables\nlibrary(gt)         # Tables\nlibrary(rstatix)    # Tidy-format statistical tests\nlibrary(lme4)       # Generalized Linear Mixed Models (GLMMs)\nlibrary(glmmTMB)    # Negative Binomial GLMM\nlibrary(ggeffects)  # Model-based predictions & visualization\nlibrary(broom)      # Organizing model outputs\nlibrary(broom.mixed)  # Organizing mixed model outputs\n\n### Load harmonized ABCD data required for this analysis\nrequested_vars <- c(\n    \"ab_g_dyn__design_site\",\n    \"ab_g_stc__design_id__fam\",\n    \"su_y_lowuse__isip_001__l\",\n    \"fc_p_fes__confl_mean\"\n)\n\ndata_dir <- Sys.getenv(\"ABCD_DATA_PATH\", \"/path/to/abcd/6_0/phenotype\")\n\nabcd_data <- create_dataset(\n  dir_data = data_dir,\n  study = \"abcd\",\n  vars = requested_vars,\n  release = \"6.0\",\n  format = \"parquet\",\n  categ_to_factor = TRUE,   # Convert categorical variables to factors\n  value_to_na = TRUE,        # Convert missing codes (222, 333, etc.) to NA\n  add_labels = TRUE          # Add variable and value labels\n)",
          "language": "r"
        }
      },
      {
        "type": "code",
        "data": {
          "title": "Data Transformation",
          "content": "# Data wrangling: clean, restructure, and filter data\ndf_long <- abcd_data %>%\n  filter(session_id %in% c(\"ses-01A\", \"ses-02A\", \"ses-03A\", \"ses-04A\")) %>%\n  arrange(participant_id, session_id) %>%\n  mutate(\n    id = factor(participant_id),  # Convert participant ID to factor\n    session_id = factor(session_id, levels = c(\"ses-01A\", \"ses-02A\", \"ses-03A\", \"ses-04A\"),\n                   labels = c(\"Year_1\", \"Year_2\", \"Year_3\", \"Year_4\")),  # Rename sessions for clarity\n    time = as.numeric(session_id) - 1,  # Converts factor to 0,1,2,3\n    alcohol_use = as.numeric(su_y_lowuse__isip_001__l),  # Ensure alcohol use is numeric\n    family_conflict = as.numeric(fc_p_fes__confl_mean)\n  ) %>%\n  filter(alcohol_use >= 0 & alcohol_use <= 10) %>%  # Keep only valid alcohol use values\n  rename(  # Rename for simplicity\n    site = ab_g_dyn__design_site,\n    family_id = ab_g_stc__design_id__fam\n  ) %>%\n  # Remove participants with any missing substance use reporting across time points\n  group_by(participant_id) %>%\n  filter(sum(!is.na(alcohol_use)) >= 2) %>%  # Keep only participants with at least 2 non-missing alcohol use scores\n    ungroup() %>%\n    drop_na(site, family_id, participant_id, alcohol_use, family_conflict)  # Ensure all remaining rows have complete cases",
          "language": "r"
        }
      },
      {
        "type": "code",
        "data": {
          "title": "Descriptive Statistics",
          "content": "# Summary table\ndescriptives_table <- df_long %>%\n  select(session_id, alcohol_use, family_conflict) %>%\n  tbl_summary(\n    by = session_id,\n    missing = \"no\",\n    statistic = list(\n      alcohol_use ~ \"{mean} ({sd})\",\n      family_conflict ~ \"{mean} ({sd})\"\n    )\n  ) %>%\n  bold_labels() %>%\n  italicize_levels()\n\n### Apply compact styling\ntheme_gtsummary_compact()\n\ndescriptives_table <- as_gt(descriptives_table)\n\n### Save the table as HTML\ngt::gtsave(descriptives_table, filename = \"descriptives_table.html\")\n\n### Print the table\ndescriptives_table",
          "language": "r"
        }
      },
      {
        "type": "output",
        "data": {
          "content": "<div id=\"assbetpfld\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n  <style>#assbetpfld table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#assbetpfld thead, #assbetpfld tbody, #assbetpfld tfoot, #assbetpfld tr, #assbetpfld td, #assbetpfld th {\n  border-style: none;\n}\n\n#assbetpfld p {\n  margin: 0;\n  padding: 0;\n}\n\n#assbetpfld .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 13px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#assbetpfld .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#assbetpfld .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#assbetpfld .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#assbetpfld .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#assbetpfld .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#assbetpfld .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#assbetpfld .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#assbetpfld .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#assbetpfld .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#assbetpfld .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#assbetpfld .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#assbetpfld .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#assbetpfld .gt_group_heading {\n  padding-top: 1px;\n  padding-bottom: 1px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#assbetpfld .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#assbetpfld .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#assbetpfld .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#assbetpfld .gt_row {\n  padding-top: 1px;\n  padding-bottom: 1px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#assbetpfld .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#assbetpfld .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#assbetpfld .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#assbetpfld .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#assbetpfld .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 1px;\n  padding-bottom: 1px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#assbetpfld .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#assbetpfld .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#assbetpfld .gt_last_summary_row {\n  padding-top: 1px;\n  padding-bottom: 1px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#assbetpfld .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 1px;\n  padding-bottom: 1px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#assbetpfld .gt_first_grand_summary_row {\n  padding-top: 1px;\n  padding-bottom: 1px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#assbetpfld .gt_last_grand_summary_row_top {\n  padding-top: 1px;\n  padding-bottom: 1px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#assbetpfld .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#assbetpfld .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#assbetpfld .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#assbetpfld .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 1px;\n  padding-bottom: 1px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#assbetpfld .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#assbetpfld .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 1px;\n  padding-bottom: 1px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#assbetpfld .gt_left {\n  text-align: left;\n}\n\n#assbetpfld .gt_center {\n  text-align: center;\n}\n\n#assbetpfld .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#assbetpfld .gt_font_normal {\n  font-weight: normal;\n}\n\n#assbetpfld .gt_font_bold {\n  font-weight: bold;\n}\n\n#assbetpfld .gt_font_italic {\n  font-style: italic;\n}\n\n#assbetpfld .gt_super {\n  font-size: 65%;\n}\n\n#assbetpfld .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#assbetpfld .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#assbetpfld .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#assbetpfld .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#assbetpfld .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#assbetpfld .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#assbetpfld .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#assbetpfld .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#assbetpfld div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n  <table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"label\"><span class='gt_from_md'><strong>Characteristic</strong></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stat_1\"><span class='gt_from_md'><strong>Year_1</strong><br />\nN = 581</span><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stat_2\"><span class='gt_from_md'><strong>Year_2</strong><br />\nN = 692</span><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stat_3\"><span class='gt_from_md'><strong>Year_3</strong><br />\nN = 731</span><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stat_4\"><span class='gt_from_md'><strong>Year_4</strong><br />\nN = 759</span><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\" style=\"font-weight: bold;\">alcohol_use</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">2.17 (1.82)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2.41 (1.95)</td>\n<td headers=\"stat_3\" class=\"gt_row gt_center\">2.64 (2.01)</td>\n<td headers=\"stat_4\" class=\"gt_row gt_center\">3.51 (2.51)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\" style=\"font-weight: bold;\">family_conflict</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">0.31 (0.22)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0.30 (0.22)</td>\n<td headers=\"stat_3\" class=\"gt_row gt_center\">0.30 (0.22)</td>\n<td headers=\"stat_4\" class=\"gt_row gt_center\">0.28 (0.22)</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"5\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> <span class='gt_from_md'>Mean (SD)</span></td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n</body>",
          "format": "table"
        }
      }
    ]
  },
  "statistical_analysis": {
    "content_blocks": [
      {
        "type": "code",
        "data": {
          "title": "Fit GLMM with Interaction",
          "content": "# Fit Negative Binomial GLMM with Time × Family Conflict Interaction\nmodel <- glmmTMB(\n  alcohol_use ~ time * family_conflict + (1 + time | site:family_id:participant_id),\n  family = nbinom2,\n  data = df_long\n)\n\n# Extract and format fixed effects\ncoef_summary <- broom.mixed::tidy(model, effects = \"fixed\") %>%\n  dplyr::select(\n    Term = term,\n    Estimate = estimate,\n    SE = std.error,\n    p_value = p.value\n  ) %>%\n  dplyr::mutate(\n    Term = case_when(\n      Term == \"(Intercept)\" ~ \"Intercept\",\n      Term == \"time\" ~ \"Time\",\n      Term == \"family_conflict\" ~ \"Family Conflict\",\n      Term == \"time:family_conflict\" ~ \"Time × Family Conflict\",\n      TRUE ~ Term\n    )\n  )\n\n# Create summary table\nmodel_summary_table <- coef_summary %>%\n  gt::gt() %>%\n  gt::tab_header(title = \"GLMM Model Summary\") %>%\n  gt::fmt_number(columns = c(Estimate, SE, p_value), decimals = 3)\n\nmodel_summary_table\n\n# Save as standalone HTML\ngt::gtsave(\n  data = model_summary_table,\n  filename = \"model_summary.html\",\n  inline_css = FALSE\n)",
          "language": "r"
        }
      },
      {
        "type": "output",
        "data": {
          "content": "<div id=\"mchmrzwblw\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n  <style>#mchmrzwblw table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#mchmrzwblw thead, #mchmrzwblw tbody, #mchmrzwblw tfoot, #mchmrzwblw tr, #mchmrzwblw td, #mchmrzwblw th {\n  border-style: none;\n}\n\n#mchmrzwblw p {\n  margin: 0;\n  padding: 0;\n}\n\n#mchmrzwblw .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#mchmrzwblw .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#mchmrzwblw .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#mchmrzwblw .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#mchmrzwblw .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#mchmrzwblw .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mchmrzwblw .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#mchmrzwblw .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#mchmrzwblw .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#mchmrzwblw .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#mchmrzwblw .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#mchmrzwblw .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#mchmrzwblw .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#mchmrzwblw .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#mchmrzwblw .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#mchmrzwblw .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#mchmrzwblw .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#mchmrzwblw .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#mchmrzwblw .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mchmrzwblw .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#mchmrzwblw .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#mchmrzwblw .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#mchmrzwblw .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mchmrzwblw .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#mchmrzwblw .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#mchmrzwblw .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mchmrzwblw .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mchmrzwblw .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#mchmrzwblw .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mchmrzwblw .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#mchmrzwblw .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mchmrzwblw .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#mchmrzwblw .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mchmrzwblw .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#mchmrzwblw .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mchmrzwblw .gt_left {\n  text-align: left;\n}\n\n#mchmrzwblw .gt_center {\n  text-align: center;\n}\n\n#mchmrzwblw .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#mchmrzwblw .gt_font_normal {\n  font-weight: normal;\n}\n\n#mchmrzwblw .gt_font_bold {\n  font-weight: bold;\n}\n\n#mchmrzwblw .gt_font_italic {\n  font-style: italic;\n}\n\n#mchmrzwblw .gt_super {\n  font-size: 65%;\n}\n\n#mchmrzwblw .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#mchmrzwblw .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#mchmrzwblw .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#mchmrzwblw .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#mchmrzwblw .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#mchmrzwblw .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#mchmrzwblw .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#mchmrzwblw .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#mchmrzwblw div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n  <table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>GLMM Model Summary</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Term\">Term</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Estimate\">Estimate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"SE\">SE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p_value\">p_value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Term\" class=\"gt_row gt_left\">Intercept</td>\n<td headers=\"Estimate\" class=\"gt_row gt_right\">0.593</td>\n<td headers=\"SE\" class=\"gt_row gt_right\">0.049</td>\n<td headers=\"p_value\" class=\"gt_row gt_right\">0.000</td></tr>\n    <tr><td headers=\"Term\" class=\"gt_row gt_left\">Time</td>\n<td headers=\"Estimate\" class=\"gt_row gt_right\">0.165</td>\n<td headers=\"SE\" class=\"gt_row gt_right\">0.023</td>\n<td headers=\"p_value\" class=\"gt_row gt_right\">0.000</td></tr>\n    <tr><td headers=\"Term\" class=\"gt_row gt_left\">Family Conflict</td>\n<td headers=\"Estimate\" class=\"gt_row gt_right\">0.055</td>\n<td headers=\"SE\" class=\"gt_row gt_right\">0.124</td>\n<td headers=\"p_value\" class=\"gt_row gt_right\">0.659</td></tr>\n    <tr><td headers=\"Term\" class=\"gt_row gt_left\">Time × Family Conflict</td>\n<td headers=\"Estimate\" class=\"gt_row gt_right\">0.026</td>\n<td headers=\"SE\" class=\"gt_row gt_right\">0.058</td>\n<td headers=\"p_value\" class=\"gt_row gt_right\">0.657</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n</body>",
          "format": "table"
        }
      },
      {
        "type": "code",
        "data": {
          "title": "Extract Model Diagnostics",
          "content": "# Extract random effects variance\nre_var <- VarCorr(model)\nre_var_cond <- re_var$cond$`site:family_id:participant_id`\nvar_intercept <- re_var_cond[1, 1]\nvar_slope <- re_var_cond[2, 2]\n\n# Create diagnostics data\ndiagnostics_data <- data.frame(\n  Diagnostic = c(\n    \"Family\",\n    \"Link Function\",\n    \"Random Intercept Variance (σ²)\",\n    \"Random Slope Variance (time)\",\n    \"Number of Participants\",\n    \"Total Observations\"\n  ),\n  Value = c(\n    \"Negative Binomial\",\n    \"log\",\n    sprintf(\"%.4f\", var_intercept),\n    sprintf(\"%.4f\", var_slope),\n    sprintf(\"%d\", length(unique(df_long$participant_id))),\n    sprintf(\"%d\", nrow(df_long))\n  )\n)\n\n# Format diagnostics table\ndiagnostics_table <- diagnostics_data %>%\n  gt::gt() %>%\n  gt::tab_header(title = \"GLMM Model Diagnostics\") %>%\n  gt::cols_label(\n    Diagnostic = gt::md(\"**Diagnostic**\"),\n    Value = gt::md(\"**Value**\")\n  ) %>%\n  gt::tab_options(table.font.size = 12)\n\ndiagnostics_table\n\n# Save diagnostics table\ngt::gtsave(diagnostics_table, filename = \"model_diagnostics.html\")",
          "language": "r"
        }
      },
      {
        "type": "output",
        "data": {
          "content": "<div id=\"qaxmjwzjup\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n  <style>#qaxmjwzjup table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#qaxmjwzjup thead, #qaxmjwzjup tbody, #qaxmjwzjup tfoot, #qaxmjwzjup tr, #qaxmjwzjup td, #qaxmjwzjup th {\n  border-style: none;\n}\n\n#qaxmjwzjup p {\n  margin: 0;\n  padding: 0;\n}\n\n#qaxmjwzjup .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 12px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qaxmjwzjup .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#qaxmjwzjup .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#qaxmjwzjup .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#qaxmjwzjup .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qaxmjwzjup .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qaxmjwzjup .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qaxmjwzjup .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qaxmjwzjup .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qaxmjwzjup .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qaxmjwzjup .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qaxmjwzjup .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qaxmjwzjup .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#qaxmjwzjup .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#qaxmjwzjup .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qaxmjwzjup .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qaxmjwzjup .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qaxmjwzjup .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qaxmjwzjup .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qaxmjwzjup .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qaxmjwzjup .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qaxmjwzjup .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#qaxmjwzjup .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qaxmjwzjup .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qaxmjwzjup .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qaxmjwzjup .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qaxmjwzjup .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qaxmjwzjup .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qaxmjwzjup .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qaxmjwzjup .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qaxmjwzjup .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qaxmjwzjup .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qaxmjwzjup .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qaxmjwzjup .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qaxmjwzjup .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qaxmjwzjup .gt_left {\n  text-align: left;\n}\n\n#qaxmjwzjup .gt_center {\n  text-align: center;\n}\n\n#qaxmjwzjup .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qaxmjwzjup .gt_font_normal {\n  font-weight: normal;\n}\n\n#qaxmjwzjup .gt_font_bold {\n  font-weight: bold;\n}\n\n#qaxmjwzjup .gt_font_italic {\n  font-style: italic;\n}\n\n#qaxmjwzjup .gt_super {\n  font-size: 65%;\n}\n\n#qaxmjwzjup .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#qaxmjwzjup .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qaxmjwzjup .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#qaxmjwzjup .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#qaxmjwzjup .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#qaxmjwzjup .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#qaxmjwzjup .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#qaxmjwzjup .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#qaxmjwzjup div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n  <table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>GLMM Model Diagnostics</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Diagnostic\"><span class='gt_from_md'><strong>Diagnostic</strong></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Value\"><span class='gt_from_md'><strong>Value</strong></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Diagnostic\" class=\"gt_row gt_left\">Family</td>\n<td headers=\"Value\" class=\"gt_row gt_left\">Negative Binomial</td></tr>\n    <tr><td headers=\"Diagnostic\" class=\"gt_row gt_left\">Link Function</td>\n<td headers=\"Value\" class=\"gt_row gt_left\">log</td></tr>\n    <tr><td headers=\"Diagnostic\" class=\"gt_row gt_left\">Random Intercept Variance (σ²)</td>\n<td headers=\"Value\" class=\"gt_row gt_left\">0.1982</td></tr>\n    <tr><td headers=\"Diagnostic\" class=\"gt_row gt_left\">Random Slope Variance (time)</td>\n<td headers=\"Value\" class=\"gt_row gt_left\">0.0268</td></tr>\n    <tr><td headers=\"Diagnostic\" class=\"gt_row gt_left\">Number of Participants</td>\n<td headers=\"Value\" class=\"gt_row gt_left\">1124</td></tr>\n    <tr><td headers=\"Diagnostic\" class=\"gt_row gt_left\">Total Observations</td>\n<td headers=\"Value\" class=\"gt_row gt_left\">2763</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n</body>",
          "format": "table"
        }
      },
      {
        "type": "note",
        "data": {
          "title": "Interpretation",
          "content": "<p>The negative binomial GLMM results indicate a significant but gradual increase in alcohol use over time, with a 0.165 increase per timepoint (p &lt; 0.001). This suggests that alcohol consumption becomes more pronounced as adolescents age.</p>\n<p>Family conflict does not significantly predict overall alcohol use (p = 0.659), indicating that its role in shaping drinking behaviors may be minimal or influenced by other unmeasured factors. Additionally, the interaction between family conflict and time is not statistically significant (p = 0.657), suggesting that adolescents from high-conflict families do not exhibit a steeper increase in alcohol use compared to their peers.</p>\n<p>These findings highlight that while alcohol use tends to increase over time, the role of family conflict in drinking trajectories remains unclear.</p>"
        }
      },
      {
        "type": "code",
        "data": {
          "title": "Create Interaction Plot",
          "content": "# Generate predicted values for interaction visualization\npreds <- ggpredict(model, terms = c(\"time\", \"family_conflict\"))\n\n# Plot interaction effect\nvisualization <- ggplot(preds, aes(x = x, y = predicted, color = group, group = group)) +\n  geom_point(size = 3) +\n  geom_line() +\n  labs(\n    title = \"Interaction: Family Conflict & Alcohol Use Over Time\",\n    x = \"Time\",\n    y = \"Predicted Alcohol Use\",\n    color = \"Family Conflict Level\"\n  ) +\n  theme_minimal()\n\nvisualization\n\n# Save interaction plot\nggsave(\n  filename = \"visualization.png\",\n  plot = visualization,\n  width = 8, height = 6, dpi = 300\n)",
          "language": "r"
        }
      },
      {
        "type": "code",
        "data": {
          "title": "Create Predicted vs Observed Plot",
          "content": "# Generate predictions and create diagnostic plot\ndf_long$predicted <- predict(model, type = \"response\")\n\nvisualization2 <- ggplot(df_long, aes(x = predicted, y = alcohol_use)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(method = \"lm\", color = \"red\", se = FALSE) +\n  labs(\n    title = \"Predicted vs. Observed Alcohol Use\",\n    x = \"Predicted Alcohol Use\",\n    y = \"Observed Alcohol Use\"\n  ) +\n  theme_minimal()\n\nvisualization2\n\n# Save predicted vs observed plot\nggsave(\n  filename = \"visualization2.png\",\n  plot = visualization2,\n  width = 8, height = 6, dpi = 300\n)",
          "language": "r"
        }
      },
      {
        "type": "output",
        "data": {
          "content": "stage4-artifacts/glmm-interactions/visualization.png",
          "format": "image",
          "alt": "Interaction Effect"
        }
      },
      {
        "type": "output",
        "data": {
          "content": "stage4-artifacts/glmm-interactions/visualization2.png",
          "format": "image",
          "alt": "Predicted vs Observed"
        }
      },
      {
        "type": "note",
        "data": {
          "title": "Visualization Interpretation",
          "content": "<p><strong>Visualization 1 (Interaction Effect):</strong> Shows the predicted alcohol use trajectories over time for different levels of family conflict. The lines represent how alcohol use changes across assessment waves, with separate trajectories for different family conflict levels. The non-significant interaction (p = 0.657) is reflected in the parallel or near-parallel nature of the lines, indicating that the rate of change in alcohol use over time is similar across family conflict levels.</p>\n<p><strong>Visualization 2 (Predicted vs Observed):</strong> Displays the relationship between model-predicted values and actual observed alcohol use. The red line shows the overall fit, with points representing individual observations. The alignment of points along the diagonal suggests that the model captures the general pattern of alcohol use reasonably well, though individual variability remains evident.</p>"
        }
      }
    ]
  },
  "discussion": {
    "items": [],
    "paragraphs": [
      "No discussion provided."
    ]
  },
  "additional_resources": {
    "cards": [
      {
        "title": "lme4 Package Documentation",
        "badge": "DOCS",
        "body": "Official CRAN documentation for the lme4 package, with detailed examples of interaction terms in generalized linear mixed models and interpretation of fixed effects.",
        "url": "https://cran.r-project.org/package=lme4"
      },
      {
        "title": "Interactions in GLMMs",
        "badge": "VIGNETTE",
        "body": "Tutorial on specifying and interpreting interaction effects in generalized linear mixed models, including cross-level interactions and visualization strategies.",
        "url": "https://cran.r-project.org/web/packages/lme4/vignettes/lmer.pdf"
      },
      {
        "title": "Interpreting Interactions in Mixed Models",
        "badge": "PAPER",
        "body": "Methodology paper on proper interpretation of interaction terms in multilevel models, covering centering decisions and probing significant interactions (Aiken & West, 1991). Note: access may require institutional or paid subscription.",
        "url": "https://psycnet.apa.org/record/1991-97932-000"
      },
      {
        "title": "interactions Package for Probing Effects",
        "badge": "TOOL",
        "body": "R package for visualizing and probing interaction effects in regression models, including simple slopes analysis and Johnson-Neyman intervals for mixed models.",
        "url": "https://cran.r-project.org/package=interactions"
      }
    ]
  }
}