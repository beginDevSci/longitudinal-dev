name = "suggestions-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# KV namespace for rate limiting
# IMPORTANT: Replace these placeholders before deploying!
# Run: wrangler kv namespace create RATE_LIMIT
# Then: wrangler kv namespace create RATE_LIMIT --preview
# Copy the IDs from the output and replace the placeholders below
[[kv_namespaces]]
binding = "RATE_LIMIT"
id = "2f22ef4c53424abc9331e18a56b8a108"              # Replace with production KV namespace ID
preview_id = "93e61827bd9143e394acd70618a61480"  # Replace with preview KV namespace ID

# Secrets (set via: wrangler secret put GITHUB_TOKEN)
# GITHUB_TOKEN - GitHub Personal Access Token with repo scope

[vars]
GITHUB_OWNER = "beginDevSci"
GITHUB_REPO = "longitudinal-dev"
ALLOWED_ORIGIN = "https://begindevsci.github.io"
MAX_SIZE_BYTES = 51200  # 50 KB
RATE_LIMIT_PER_HOUR = 10
