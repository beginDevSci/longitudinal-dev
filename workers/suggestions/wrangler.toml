name = "suggestions-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# KV namespace for rate limiting
# IMPORTANT: Replace these placeholders before deploying!
# Run: wrangler kv:namespace create "RATE_LIMIT"
# Then: wrangler kv:namespace create "RATE_LIMIT" --preview
# Copy the IDs from the output and replace the placeholders below
[[kv_namespaces]]
binding = "RATE_LIMIT"
id = "YOUR_KV_NAMESPACE_ID"              # Replace with production KV namespace ID
preview_id = "YOUR_PREVIEW_KV_NAMESPACE_ID"  # Replace with preview KV namespace ID

# Secrets (set via: wrangler secret put GITHUB_TOKEN)
# GITHUB_TOKEN - GitHub Personal Access Token with repo scope

[vars]
GITHUB_OWNER = "swhawes"
GITHUB_REPO = "leptos-test"
ALLOWED_ORIGIN = "https://swhawes.github.io"
MAX_SIZE_BYTES = 51200  # 50 KB
RATE_LIMIT_PER_HOUR = 10
